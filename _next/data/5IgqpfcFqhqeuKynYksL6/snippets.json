{"pageProps":{"posts":[{"name":"scalajs-lenses","doc":{"$$data_type":"org-document","properties":{"title":["Fun with scalajs lenses and react"],"filetags":["scala","react"],"author":["Michael McFarland"],"creator":"Emacs 28.0.60 (Org mode 9.6)","date":["2015-06-16"],"description":[],"email":"michaelmcfarland@michaels-air.lan","language":"en"},"contents":[{"$$data_type":"org-node","type":"section","ref":"orgd8ec51b","properties":{"robust-begin":1,"robust-end":430,"post-blank":2,"post-affiliated":1,"mode":"first-section","granularity":null},"contents":[{"$$data_type":"org-node","type":"keyword","ref":"org939fd9c","properties":{"key":"TITLE","value":"Fun with scalajs lenses and react","post-blank":0,"post-affiliated":1,"mode":"top-comment","granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"orge6127ab","properties":{"key":"DATE","value":"2015-06-16","post-blank":0,"post-affiliated":44,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"org58b05c1","properties":{"key":"CATEGORY","value":"Scala","post-blank":0,"post-affiliated":63,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"org83cc046","properties":{"key":"FILETAGS","value":":scala:react","post-blank":0,"post-affiliated":81,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"org06216d1","properties":{"key":"DESCRIPTION","value":"Examples where lenses simplified scalajs react code","post-blank":1,"post-affiliated":106,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"paragraph","ref":"org8f67fc6","properties":{"post-blank":1,"post-affiliated":174,"mode":null,"granularity":null},"contents":["I've been working (freelance) on a single page app using ",{"$$data_type":"org-node","type":"link","ref":"org7693b0a","properties":{"type":"https","path":"//github.com/japgolly/scalajs-react","format":"bracket","raw-link":"https://github.com/japgolly/scalajs-react","application":null,"search-option":null,"post-blank":0,"is-internal":false,"target-ref":null,"is-inline-image":false},"contents":["scalajs-react"]},"\n"]},{"$$data_type":"org-node","type":"paragraph","ref":"orgeaf7c62","properties":{"post-blank":0,"post-affiliated":293,"mode":null,"granularity":null},"contents":["and lenses helped me cleanup some code.\nThey were fun and straightforward to get started with, so I wanted to quickly share my experience.\n"]}]},{"$$data_type":"org-node","type":"headline","ref":"org2b0e948","drawer":{},"properties":{"tags-all":["scala","react"],"raw-value":"The model","pre-blank":1,"robust-begin":449,"robust-end":836,"level":1,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":2,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":434,"title":["The model"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"org5523f3a","properties":{"robust-begin":447,"robust-end":836,"post-blank":2,"post-affiliated":447,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"orgff765b7","properties":{"post-blank":1,"post-affiliated":447,"mode":"planning","granularity":null},"contents":["Lets say our app has some configuration that can be edited by the user.\nWe'll model it with some case classes:\n"]},{"$$data_type":"org-node","type":"src-block","ref":"orge5b5a13","properties":{"language":"scala","switches":null,"parameters":null,"number-lines":null,"preserve-indent":false,"retain-labels":true,"use-labels":true,"label-fmt":null,"value":"  case class Config(restricted: String, mailConfig:MailConfig)\n\n  object Config{\n\n    lazy val default = Config(\"thrownforaloop.com\",MailConfig(\"localhost\",9000,\"mike\"))\n  }\n\n  case class MailConfig(\n    host:String,\n    port:Int,\n    user:String\n  )\n","post-blank":0,"post-affiliated":559,"mode":null,"granularity":null},"contents":[]}]}]},{"$$data_type":"org-node","type":"headline","ref":"org5816233","drawer":{},"properties":{"tags-all":["scala","react"],"raw-value":"The editable form","pre-blank":0,"robust-begin":863,"robust-end":2512,"level":1,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":1,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":840,"title":["The editable form"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"orgb778026","properties":{"robust-begin":861,"robust-end":2512,"post-blank":1,"post-affiliated":861,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"orge5bf28f","properties":{"post-blank":1,"post-affiliated":861,"mode":"planning","granularity":null},"contents":["Lets make a few react components so that we can construct our form.\nWe'll add bootstrap classes to make it a littler more friendly.\n"]},{"$$data_type":"org-node","type":"src-block","ref":"org0c7a5de","properties":{"language":"scala","switches":null,"parameters":null,"number-lines":null,"preserve-indent":false,"retain-labels":true,"use-labels":true,"label-fmt":null,"value":"  object Form{\n    case class Field(name:String,value:String,onChange:ReactEventI=>Unit)\n\n\n    val field = ReactComponentB[Field](\"form-field\")\n      .render(P=>{\n        val Field(name,value,onChange) = P\n        <.div(^.`class`:=\"form-group\",\n          <.label(\n            ^.`for` :=name,\n            name.capitalize),\n          <.input(\n            ^.tpe := \"text\",\n            ^.`class`:=\"form-control\",\n            ^.id := name,\n            ^.value := value,\n            ^.onChange ==> onChange\n          ))\n      })\n      .build\n\n    val form = ReactComponentB[Seq[Field]](\"form\")\n      .render(P=>{\n        <.div(^.`class`:=\"panel panel-default\",\n          <.div(^.`class`:=\"panel\",\n            <.div(^.`class`:=\"panel-heading\",\n              \"Config Edit\"\n            ),\n            <.div(^.`class`:=\"panel-body\",\n              <.form(\n                P.map(f => field.withKey(f.name)(f))\n              )\n            )\n          )\n        )\n      })\n    .build\n\n    // a static construction of our form\n    def static() = {\n      val Config(restricted,MailConfig(host,port,user)) = Config.default\n      val noOp = (e:ReactEventI) => {}\n      val fields = Seq(\n          Field(\"restricted\" ,restricted    ,noOp),\n          Field(\"host\"       ,host          ,noOp),\n          Field(\"user\"       ,user          ,noOp),\n          Field(\"port\"       ,port.toString ,noOp))\n\n      form(fields)\n    }\n  }\n","post-blank":1,"post-affiliated":994,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"paragraph","ref":"orgd400e48","properties":{"post-blank":0,"post-affiliated":2430,"mode":null,"granularity":null},"contents":["Now we have a form component that'll build or inputs given a sequence of ",{"$$data_type":"org-node","type":"verbatim","ref":"org57de7d4","properties":{"post-blank":0,"value":"Field"},"contents":[]},"'s.\n"]}]}]},{"$$data_type":"org-node","type":"headline","ref":"org1203f95","drawer":{},"properties":{"tags-all":["scala","react"],"raw-value":"Making it dynamic","pre-blank":1,"robust-begin":2538,"robust-end":4167,"level":1,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":0,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":2515,"title":["Making it dynamic"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"orgb7ab244","properties":{"robust-begin":2536,"robust-end":4167,"post-blank":0,"post-affiliated":2536,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"orgbe5e360","properties":{"post-blank":1,"post-affiliated":2536,"mode":"planning","granularity":null},"contents":["Lets make this form actually edit the model.\nWe'll do that by making another component which will construct the form.\n"]},{"$$data_type":"org-node","type":"src-block","ref":"org2497656","properties":{"language":"scala","switches":null,"parameters":null,"number-lines":null,"preserve-indent":false,"retain-labels":true,"use-labels":true,"label-fmt":null,"value":"  object ConfigForm{\n    case class Props(onSubmit:Config=>Unit)\n    case class State(config:Config)\n\n    class Backend(t:BackendScope[Unit,State]){\n      def modifyRestricted(e:ReactEventI) = {\n        t.modState(\n          s=>s.copy(\n            config=s.config.copy(\n              restricted=e.currentTarget.value)))\n      }\n      def modifyHost(e:ReactEventI) = {\n        t.modState(\n          s=>s.copy(\n            config=s.config.copy(\n              mailConfig=s.config.mailConfig.copy(\n                host=e.currentTarget.value))))\n      }\n      def modifyUser(e:ReactEventI) = {\n        t.modState(\n          s=>s.copy(\n            config=s.config.copy(\n              mailConfig=s.config.mailConfig.copy(\n                user=e.currentTarget.value))))\n      }\n\n    }\n\n    val form = ReactComponentB[Unit](\"config-form\")\n      .initialState(State(Config.default))\n      .backend(new Backend(_))\n      .render((P,S,B) =>{\n        val Config(restricted,MailConfig(host,port,user)) = S.config\n        val Field = Form.Field\n\n        val fields = Seq(\n          Field(\"restricted\" ,restricted ,B.modifyRestricted),\n          Field(\"host\"       ,host       ,B.modifyHost),\n          Field(\"user\"       ,user       ,B.modifyUser))\n\n        Form.form(fields)\n      })\n      .buildU\n\n  }\n","post-blank":1,"post-affiliated":2655,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"paragraph","ref":"orgc5a1ce1","properties":{"post-blank":0,"post-affiliated":3973,"mode":null,"granularity":null},"contents":["Those modify functions work, but man there's a lot of copying of case classes, it'd be nice if we could build functions that take care of that for us cleanly, especially as these structures grow.\n"]}]}]},{"$$data_type":"org-node","type":"headline","ref":"orgc1802bf","drawer":{},"properties":{"tags-all":["scala","react"],"raw-value":"Enter lenses","pre-blank":1,"robust-begin":4187,"robust-end":5101,"level":1,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":0,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":4169,"title":["Enter lenses"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"orgb976d1b","properties":{"robust-begin":4185,"robust-end":5101,"post-blank":0,"post-affiliated":4185,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"org06fa321","properties":{"post-blank":1,"post-affiliated":4185,"mode":"planning","granularity":null},"contents":["Lenses give us a way to cleanly and safely edit a piece of a larger immutable structure.\n"]},{"$$data_type":"org-node","type":"src-block","ref":"orgeedfdbc","properties":{"language":"scala","switches":null,"parameters":null,"number-lines":null,"preserve-indent":false,"retain-labels":true,"use-labels":true,"label-fmt":null,"value":"  val _config     = Lens[State,ConfigItem]      (_.config)     (v => s => s.copy(config=v))\n  val _restricted = Lens[ConfigItem,String]     (_.restricted) (v => c => c.copy(restricted=v))\n  val _mail       = Lens[ConfigItem,MailConfig] (_.mailConfig) (v => c => c.copy(mailConfig=v))\n  val _host       = Lens[MailConfig,String]     (_.host)       (v => m => m.copy(host=v))\n  val _port       = Lens[MailConfig,Int]        (_.port)       (v => m => m.copy(port=v))\n  val _user       = Lens[MailConfig,String]     (_.user)       (v => m => m.copy(user=v))\n  val _password   = Lens[MailConfig,String]     (_.password)   (v => m => m.copy(password=v))\n\n  val _eventV     = Lens[ReactEventI,String]    (_.currentTarget.value)   (v => m => m.copy(password=v))\n  val _mailconfig = _config composeLens _mail\n","post-blank":0,"post-affiliated":4275,"mode":null,"granularity":null},"contents":[]}]}]}]},"docType":"snippets"},{"name":"unity3d-meta","doc":{"$$data_type":"org-document","properties":{"title":["Fix Unity3d \"Missing Script\" issues"],"filetags":["Unity3D"],"author":["Michael McFarland"],"creator":"Emacs 28.0.60 (Org mode 9.6)","date":["2015-06-16"],"description":[],"email":"michaelmcfarland@michaels-air.lan","language":"en"},"contents":[{"$$data_type":"org-node","type":"section","ref":"org15d0542","properties":{"robust-begin":1,"robust-end":551,"post-blank":1,"post-affiliated":1,"mode":"first-section","granularity":null},"contents":[{"$$data_type":"org-node","type":"keyword","ref":"orgfba76f4","properties":{"key":"STARTUP","value":"showall indent","post-blank":0,"post-affiliated":1,"mode":"top-comment","granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"orgc09ee62","properties":{"key":"OPTIONS","value":"num:nil","post-blank":0,"post-affiliated":27,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"orgbb288a3","properties":{"key":"TITLE","value":"Fix Unity3d \"Missing Script\" issues","post-blank":0,"post-affiliated":46,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"org2cb9827","properties":{"key":"DATE","value":"2015-06-16","post-blank":0,"post-affiliated":91,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"orgd26b026","properties":{"key":"CATEGORY","value":"Unity3D","post-blank":0,"post-affiliated":110,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"orgbb5bda9","properties":{"key":"FILETAGS","value":"Unity3D","post-blank":0,"post-affiliated":130,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"keyword","ref":"org7bdf17e","properties":{"key":"DESCRIPTION","value":"Fix the annoying \"Missing Script\" errors that occur when you start sharing assets on a team.","post-blank":3,"post-affiliated":150,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"paragraph","ref":"orge119cac","properties":{"post-blank":0,"post-affiliated":260,"mode":null,"granularity":null},"contents":["If you've ever worked on a team using Unity3d, somebody has forgotten to commit a .meta file.\nIt's fairly easy to do, and pretty hard to notice you're doing it (things still work for you, just not others who pull your work in). I've been bitten by this mistake plenty, from myself and others.\n"]}]},{"$$data_type":"org-node","type":"headline","ref":"org299e011","drawer":{},"properties":{"tags-all":["Unity3D"],"raw-value":"Why does this happen","pre-blank":0,"robust-begin":579,"robust-end":846,"level":1,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":1,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":554,"title":["Why does this happen"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"org5d2af81","properties":{"robust-begin":577,"robust-end":846,"post-blank":1,"post-affiliated":577,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"org4b2b559","properties":{"post-blank":0,"post-affiliated":577,"mode":"planning","granularity":null},"contents":["The .meta file holds GUID for the given asset, which is how the editor associates assets for serialized data (your prefabs and scenes).\nWhen you're serialized data references the wrong id, then you get missing references that show up like \"Missing Script\" in the editor.\n"]}]}]},{"$$data_type":"org-node","type":"headline","ref":"org3afa79d","drawer":{},"properties":{"tags-all":["Unity3D"],"raw-value":"The solution","pre-blank":0,"robust-begin":866,"robust-end":3943,"level":1,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":1,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":849,"title":["The solution"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"org079d206","properties":{"robust-begin":864,"robust-end":3943,"post-blank":1,"post-affiliated":864,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"org6d2d5a5","properties":{"post-blank":1,"post-affiliated":864,"mode":"planning","granularity":null},"contents":["Don't let people commit and push assets without metas.\n"]},{"$$data_type":"org-node","type":"paragraph","ref":"org36d89fe","properties":{"post-blank":1,"post-affiliated":920,"mode":null,"granularity":null},"contents":["Most version control systems have hooks that you can run your own scripts in,\nMercurials no different.\n"]},{"$$data_type":"org-node","type":"paragraph","ref":"org33236b9","properties":{"post-blank":1,"post-affiliated":1024,"mode":null,"granularity":null},"contents":["You can make a pre-commit hook that will look at all your assets\nand make sure none are missing a meta.\n"]},{"$$data_type":"org-node","type":"paragraph","ref":"org77282c3","properties":{"post-blank":1,"post-affiliated":1129,"mode":null,"granularity":null},"contents":["I've made one below. It's worked fine for windows and mac machines,\nand some version of it has been in every unity project I've done since.\n"]},{"$$data_type":"org-node","type":"src-block","ref":"orgce6301d","properties":{"language":"python","switches":null,"parameters":null,"number-lines":null,"preserve-indent":false,"retain-labels":true,"use-labels":true,"label-fmt":null,"value":"  import os\n  import mercurial.commands\n\n  class HG:\n    def __init__(self,ui,repo):\n      self.ui = ui\n      self.repo = repo\n      self.files = self.getAddedFiles()\n\n    def existsInRepo(self, filename):\n      self.ui.pushbuffer()\n      mercurial.commands.locate(self.ui,self.repo,include=[filename])\n      files = self.ui.popbuffer().split(\"\\n\")\n\n      for repoFile in files:\n        if(pathsEqual(filename,repoFile)):\n          return True\n\n      return False\n\n    def getAddedFiles(self):\n      self.ui.pushbuffer()\n      mercurial.commands.status(self.ui,self.repo,no_status=True, added = True)\n      files = self.ui.popbuffer().split(\"\\n\")\n      return files\n\n    def filesExistInDir(self,dirname):\n      self.ui.pushbuffer()\n      mercurial.commands.locate(self.ui,self.repo,include=[dirname])\n      files = self.ui.popbuffer().split(\"\\n\")\n      files = filter(lambda x:x != \"\", files)\n      return len(files) > 0\n\n    def show(self, message):\n      self.ui.status(message + \"\\n\")\n\n  def precommit(ui,repo, **kwargs):\n    hg = HG(ui,repo)\n    clean = checkFiles(hg)\n    return not clean;\n\n  def pathsEqual(a,b):\n    return os.path.normcase(a) == os.path.normcase(b)\n\n\n  def checkFiles(hg):\n\n    path = os.path.normcase(\"UnityProject/Assets/\")\n\n    result = True\n    files = hg.files\n    for singleFile in files:\n      if singleFile == '':\n        continue\n\n      if not os.path.normcase(singleFile).startswith(path):\n        continue\n\n      isMetaFile = singleFile.endswith(\".meta\")\n\n      filename = singleFile if not isMetaFile else singleFile.replace(\".meta\", \"\")\n      metaFile = singleFile if isMetaFile else singleFile + \".meta\"\n\n      isFolder = os.path.isdir(os.path.normcase(filename))\n\n      if isMetaFile:\n        if isFolder:\n          if not hg.filesExistInDir(filename):\n            hg.show(\"Commiting a meta file'\" + metaFile +\n              \"' for a directory which contains no files.\" )\n            return False\n        else:\n          if not hg.existsInRepo(filename):\n            hg.show(\"Commiting a meta file'\" + metaFile +\n              \"' without adding associated file '\" + filename + \"'.\")\n            return False\n\n      else:\n        if not hg.existsInRepo(metaFile):\n          hg.show(\"Committing a file '\" + filename +\n            \"' without adding associated meta file '\" + metaFile + \"'.\")\n          return False\n\n\n    return result\n","post-blank":1,"post-affiliated":1270,"mode":null,"granularity":null},"contents":[]},{"$$data_type":"org-node","type":"paragraph","ref":"org82c3d5b","properties":{"post-blank":0,"post-affiliated":3672,"mode":null,"granularity":null},"contents":["This ",{"$$data_type":"org-node","type":"bold","ref":"orgd7faedb","properties":{"post-blank":0},"contents":["doesn't handle .meta files for directories"]},". I couldn't think of an elegant way\nTo locate directories from the hg API. Mercurial has no concept of them, files are just at paths.\nThis hasn't been a problem and, AFAIK, directories aren't referenced in serialized data.\n"]}]}]},{"$$data_type":"org-node","type":"headline","ref":"orgcac9347","drawer":{},"properties":{"tags-all":["Unity3D"],"raw-value":"Usage","pre-blank":0,"robust-begin":3956,"robust-end":4852,"level":1,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":0,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":3946,"title":["Usage"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"headline","ref":"org4db8c3a","drawer":{},"properties":{"tags-all":["Unity3D"],"raw-value":"Configure your asset folder path","pre-blank":1,"robust-begin":3993,"robust-end":4284,"level":2,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":1,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":3954,"title":["Configure your asset folder path"],"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"orgb9753d1","properties":{"robust-begin":3991,"robust-end":4284,"post-blank":1,"post-affiliated":3991,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"org4735b44","properties":{"post-blank":0,"post-affiliated":3991,"mode":"planning","granularity":null},"contents":["in ",{"$$data_type":"org-node","type":"verbatim","ref":"orgf62e3f2","properties":{"post-blank":1,"value":"checkFiles"},"contents":[]},"alter the ",{"$$data_type":"org-node","type":"verbatim","ref":"org5017223","properties":{"post-blank":1,"value":"path"},"contents":[]},"variable so that it points to your assets directory.\nThe current value reflects my projects, which generally have the unity project folder start at the path ",{"$$data_type":"org-node","type":"verbatim","ref":"orgfcc30ab","properties":{"post-blank":0,"value":"UnityProject"},"contents":[]},".\nThe script only checks the files under that path, and it's relative to your repo's root.\n"]}]}]},{"$$data_type":"org-node","type":"headline","ref":"org104cd5c","drawer":{},"properties":{"tags-all":["Unity3D"],"raw-value":"Add the hook","pre-blank":0,"robust-begin":4305,"robust-end":4852,"level":2,"priority":null,"tags":[],"todo-keyword":null,"todo-type":null,"post-blank":0,"footnote-section-p":false,"archivedp":false,"commentedp":false,"post-affiliated":4287,"title":["Add the hook"],"mode":null,"granularity":null},"contents":[{"$$data_type":"org-node","type":"section","ref":"org21ef40e","properties":{"robust-begin":4303,"robust-end":4852,"post-blank":0,"post-affiliated":4303,"mode":"section","granularity":null},"contents":[{"$$data_type":"org-node","type":"paragraph","ref":"orgf325431","properties":{"post-blank":1,"post-affiliated":4303,"mode":"planning","granularity":null},"contents":["Mercurial needs you to ",{"$$data_type":"org-node","type":"link","ref":"org2ac11ba","properties":{"type":"https","path":"//www.mercurial-scm.org/wiki/Hook","format":"bracket","raw-link":"https://www.mercurial-scm.org/wiki/Hook","application":null,"search-option":null,"post-blank":1,"is-internal":false,"target-ref":null,"is-inline-image":false},"contents":["register the hook"]},"in your hg config.\nEveryone on the team should register and use this pre-commit hook in order for it to be effective.\nI keep them in hooks directory for the project for that reason.\n"]},{"$$data_type":"org-node","type":"paragraph","ref":"org8128695","properties":{"post-blank":1,"post-affiliated":4572,"mode":null,"granularity":null},"contents":["For example, Lets say you saved the above script to a file in your repo at ",{"$$data_type":"org-node","type":"verbatim","ref":"orgffc4189","properties":{"post-blank":0,"value":"hooks/checkMetas.py"},"contents":[]},".\n"]},{"$$data_type":"org-node","type":"paragraph","ref":"orgdc59efb","properties":{"post-blank":1,"post-affiliated":4671,"mode":null,"granularity":null},"contents":["Then you would add these lines to your ",{"$$data_type":"org-node","type":"verbatim","ref":"org24d2413","properties":{"post-blank":1,"value":".hg/hgrc"},"contents":[]},"file.\n"]},{"$$data_type":"org-node","type":"src-block","ref":"orge207be5","properties":{"language":"python","switches":null,"parameters":null,"number-lines":null,"preserve-indent":false,"retain-labels":true,"use-labels":true,"label-fmt":null,"value":"    [hooks]\n    precommit.checkMetas = python:/pathToUnityRepo/hooks/checkMetas.py:precommit\n","post-blank":0,"post-affiliated":4728,"mode":null,"granularity":null},"contents":[]}]}]}]}]},"docType":"snippets"}]},"__N_SSG":true}